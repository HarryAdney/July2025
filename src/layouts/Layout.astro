---
export interface Props {
  title: string;
  description?: string;
}

const {
  title,
  description = "Experience the reimagined Foresters Arms, a luxurious Grade II listed pub, restaurant, and B&B in Carlton-in-Coverdale, offering an exclusive dark-themed retreat with gold accents.",
} = Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content={description} />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Inter:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />

    <!-- Global Styles -->
    <style>
      html {
        scroll-behavior: smooth;
      }
    </style>
  </head>
  <body class="antialiased text-gray-200 bg-black">
    <slot />

    <script>
      // Mobile Menu Toggle
      const mobileMenuButton = document.getElementById("mobile-menu-button");
      const mobileMenu = document.getElementById("mobile-menu");

      if (mobileMenuButton && mobileMenu) {
        mobileMenuButton.addEventListener("click", () => {
          mobileMenu.classList.toggle("hidden");
        });

        // Close mobile menu when a link is clicked
        const mobileMenuLinks = mobileMenu.querySelectorAll("a");
        mobileMenuLinks.forEach((link) => {
          link.addEventListener("click", () =>
            mobileMenu.classList.add("hidden")
          );
        });
      }

      // Smooth Scroll for anchor links
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const targetId = this.getAttribute("href");
          const targetElement = document.querySelector(targetId);
          if (targetElement) {
            targetElement.scrollIntoView({
              behavior: "smooth",
            });
          }
        });
      });

      // Dynamic Year for Footer
      const currentYearElement = document.getElementById("currentYear");
      if (currentYearElement) {
        currentYearElement.textContent = new Date().getFullYear().toString();
      }

      // Animate elements on scroll
      const animatedElements = document.querySelectorAll(".animate-fadeInUp");
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              const target = entry.target as HTMLElement;
              target.style.opacity = "1";
              target.style.transform = "translateY(0)";
              observer.unobserve(entry.target);
            }
          });
        },
        { threshold: 0.1 }
      );

      animatedElements.forEach((element) => {
        observer.observe(element);
      });

      // Change header background on scroll
      const header = document.getElementById("main-header");
      if (header) {
        window.addEventListener("scroll", () => {
          if (window.scrollY > 50) {
            header.classList.add("py-3", "shadow-lg");
            header.classList.remove("py-4");
          } else {
            header.classList.add("py-4");
            header.classList.remove("py-3", "shadow-lg");
          }
        });
      }
    </script>
  </body>
</html>
